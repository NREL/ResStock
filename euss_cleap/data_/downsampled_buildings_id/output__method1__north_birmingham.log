2024-11-06 16:11:53,939 - INFO - ---------------------------------------------------------
2024-11-06 16:11:53,939 - INFO - Downsampling buildstock for  north_birmingham  using method 1
2024-11-06 16:11:53,941 - INFO - ---------------------------------------------------------
2024-11-06 16:11:53,944 - INFO - Creating n>=1000 buildlstock by downsampling from: bst_to_search (549999 samples) 
while matching the marginal distribution of 13 key HCs from: bst_to_match (535 samples), 
['Income', 'ASHRAE IECC Climate Zone 2004', 'State', 'Geometry Building Type RECS', 'Heating Fuel', 'HVAC Cooling Type', 'Tenure', 'Water Heater Fuel', 'Vintage ACS', 'Geometry Floor Area Bin', 'HVAC Heating Type', 'Federal Poverty Level', 'Vacancy Status']
2024-11-06 16:11:53,945 - INFO - 
2024-11-06 16:11:53,945 - INFO - 
---- Attempt 1: downsample using 13 key HCs: ----
2024-11-06 16:11:54,187 - INFO -    Located 7852 positively weighted rows in bst_to_search
2024-11-06 16:11:54,187 - INFO - 
 -> Step 2 : Weight Recalculation
Method 1A - normalizing to exact joint-prob from bst_to_match ...
2024-11-06 16:11:54,232 - INFO - 

** Downsampled to: 1486 samples, by matching to: ['build_existing_model.income', 'build_existing_model.ashrae_iecc_climate_zone_2004', 'build_existing_model.state', 'build_existing_model.geometry_building_type_recs', 'build_existing_model.heating_fuel', 'build_existing_model.hvac_cooling_type', 'build_existing_model.tenure', 'build_existing_model.water_heater_fuel', 'build_existing_model.vintage_acs', 'build_existing_model.geometry_floor_area_bin', 'build_existing_model.hvac_heating_type', 'build_existing_model.federal_poverty_level', 'build_existing_model.vacancy_status']
2024-11-06 16:11:54,233 - INFO - 
 -> Step 3 : Weight Normalization
2024-11-06 16:11:54,237 - INFO - Checking marginals from weight_map of n=1486...
2024-11-06 16:11:54,244 - INFO -  [[ build_existing_model.income ]] 
2024-11-06 16:11:54,252 - INFO - 
                              matched     truth  pct_diff
build_existing_model.income                              
10000-14999                  0.056075  0.056075      -0.0
100000-119999                0.056075  0.056075       0.0
120000-139999                0.037383  0.037383       0.0
140000-159999                0.020561  0.020561       0.0
15000-19999                  0.052336  0.052336      -0.0
160000-179999                0.009346  0.009346       0.0
180000-199999                0.003738  0.003738      -0.0
20000-24999                  0.044860  0.044860       0.0
200000+                      0.031776  0.031776       0.0
25000-29999                  0.044860  0.044860       0.0
30000-34999                  0.042991  0.042991       0.0
35000-39999                  0.033645  0.033645      -0.0
40000-44999                  0.035514  0.035514      -0.0
45000-49999                  0.037383  0.037383       0.0
50000-59999                  0.071028  0.071028      -0.0
60000-69999                  0.054206  0.054206       0.0
70000-79999                  0.044860  0.044860       0.0
80000-99999                  0.084112  0.084112       0.0
<10000                       0.106542  0.106542       0.0
Not Available                0.132710  0.132710       0.0

2024-11-06 16:11:54,258 - INFO -  [[ build_existing_model.ashrae_iecc_climate_zone_2004 ]] 
2024-11-06 16:11:54,264 - INFO - 
                                                    matched  truth  pct_diff
build_existing_model.ashrae_iecc_climate_zone_2004                          
3A                                                      1.0    1.0       0.0

2024-11-06 16:11:54,271 - INFO -  [[ build_existing_model.state ]] 
2024-11-06 16:11:54,277 - INFO - 
                            matched  truth  pct_diff
build_existing_model.state                          
AL                              1.0    1.0       0.0

2024-11-06 16:11:54,283 - INFO -  [[ build_existing_model.geometry_building_type_recs ]] 
2024-11-06 16:11:54,290 - INFO - 
                                                   matched     truth  pct_diff
build_existing_model.geometry_building_type_recs                              
Mobile Home                                       0.035514  0.035514      -0.0
Multi-Family with 2 - 4 Units                     0.052336  0.052336      -0.0
Multi-Family with 5+ Units                        0.200000  0.200000       0.0
Single-Family Attached                            0.018692  0.018692       0.0
Single-Family Detached                            0.693458  0.693458       0.0

2024-11-06 16:11:54,297 - INFO -  [[ build_existing_model.heating_fuel ]] 
2024-11-06 16:11:54,304 - INFO - 
                                    matched     truth  pct_diff
build_existing_model.heating_fuel                              
Electricity                        0.534579  0.534579       0.0
Fuel Oil                           0.001869  0.001869      -0.0
Natural Gas                        0.454206  0.454206       0.0
Propane                            0.009346  0.009346       0.0

2024-11-06 16:11:54,311 - INFO -  [[ build_existing_model.hvac_cooling_type ]] 
2024-11-06 16:11:54,318 - INFO - 
                                         matched     truth  pct_diff
build_existing_model.hvac_cooling_type                              
Central AC                              0.558879  0.558879       0.0
Ducted Heat Pump                        0.312150  0.312150       0.0
Non-Ducted Heat Pump                    0.003738  0.003738       0.0
None                                    0.031776  0.031776       0.0
Room AC                                 0.093458  0.093458       0.0

2024-11-06 16:11:54,325 - INFO -  [[ build_existing_model.tenure ]] 
2024-11-06 16:11:54,331 - INFO - 
                              matched     truth  pct_diff
build_existing_model.tenure                              
Not Available                0.132710  0.132710       0.0
Owner                        0.542056  0.542056       0.0
Renter                       0.325234  0.325234       0.0

2024-11-06 16:11:54,338 - INFO -  [[ build_existing_model.water_heater_fuel ]] 
2024-11-06 16:11:54,344 - INFO - 
                                         matched     truth  pct_diff
build_existing_model.water_heater_fuel                              
Electricity                             0.629907  0.629907       0.0
Natural Gas                             0.358879  0.358879       0.0
Propane                                 0.011215  0.011215       0.0

2024-11-06 16:11:54,353 - INFO -  [[ build_existing_model.vintage_acs ]] 
2024-11-06 16:11:54,359 - INFO - 
                                   matched     truth  pct_diff
build_existing_model.vintage_acs                              
1940-59                           0.185047  0.185047       0.0
1960-79                           0.327103  0.327103       0.0
1980-99                           0.222430  0.222430      -0.0
2000-09                           0.112150  0.112150      -0.0
2010s                             0.046729  0.046729      -0.0
<1940                             0.106542  0.106542       0.0

2024-11-06 16:11:54,367 - INFO -  [[ build_existing_model.geometry_floor_area_bin ]] 
2024-11-06 16:11:54,373 - INFO - 
                                               matched     truth  pct_diff
build_existing_model.geometry_floor_area_bin                              
0-1499                                        0.583178  0.583178       0.0
1500-2499                                     0.274766  0.274766       0.0
2500-3999                                     0.115888  0.115888       0.0
4000+                                         0.026168  0.026168       0.0

2024-11-06 16:11:54,380 - INFO -  [[ build_existing_model.hvac_heating_type ]] 
2024-11-06 16:11:54,386 - INFO - 
                                         matched     truth  pct_diff
build_existing_model.hvac_heating_type                              
Ducted Heat Pump                        0.312150  0.312150      -0.0
Ducted Heating                          0.557009  0.557009       0.0
Non-Ducted Heat Pump                    0.003738  0.003738      -0.0
Non-Ducted Heating                      0.127103  0.127103       0.0

2024-11-06 16:11:54,392 - INFO -  [[ build_existing_model.federal_poverty_level ]] 
2024-11-06 16:11:54,400 - INFO - 
                                             matched     truth  pct_diff
build_existing_model.federal_poverty_level                              
0-100%                                      0.170093  0.170093       0.0
100-150%                                    0.099065  0.099065       0.0
150-200%                                    0.074766  0.074766       0.0
200-300%                                    0.134579  0.134579       0.0
300-400%                                    0.128972  0.128972       0.0
400%+                                       0.259813  0.259813       0.0
Not Available                               0.132710  0.132710       0.0

2024-11-06 16:11:54,407 - INFO -  [[ build_existing_model.vacancy_status ]] 
2024-11-06 16:11:54,414 - INFO - 
                                     matched    truth  pct_diff
build_existing_model.vacancy_status                            
Occupied                             0.86729  0.86729       0.0
Vacant                               0.13271  0.13271       0.0

2024-11-06 16:11:54,415 - INFO - No unmatched HC
2024-11-06 16:11:54,432 - INFO - truth vs. matched - per dwelling unit energy:
2024-11-06 16:11:54,439 - INFO - 
                                    matched      truth  pct_diff
energy_use_total_m_btu            70.218335  71.421770 -1.684969
fuel_use_electricity_total_m_btu  48.211923  49.094421 -1.797552
fuel_use_fuel_oil_total_m_btu      0.054794   0.054794  0.000000
fuel_use_natural_gas_total_m_btu  21.527631  21.834617 -1.405960
fuel_use_propane_total_m_btu       0.423958   0.437918 -3.187747

2024-11-06 16:11:54,462 - INFO - truth vs. matched - per dwelling unit energy:
2024-11-06 16:11:54,471 - INFO - 
                                                                        matched      truth   pct_diff
build_existing_model.vacancy_status                                                                  
Occupied                            energy_use_total_m_btu            77.725740  78.942362  -1.541152
                                    fuel_use_electricity_total_m_btu  53.173475  54.076841  -1.670522
                                    fuel_use_fuel_oil_total_m_btu      0.063179   0.063179   0.000000
                                    fuel_use_natural_gas_total_m_btu  24.007677  24.308356  -1.236935
                                    fuel_use_propane_total_m_btu       0.481378   0.493961  -2.547337
Vacant                              energy_use_total_m_btu            21.155859  22.273113  -5.016156
                                    fuel_use_electricity_total_m_btu  15.787131  16.533254  -4.512860
                                    fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                                    fuel_use_natural_gas_total_m_btu   5.320005   5.668211  -6.143138
                                    fuel_use_propane_total_m_btu       0.048704   0.071662 -32.036164

2024-11-06 16:11:54,518 - INFO - truth vs. matched - per dwelling unit energy:
2024-11-06 16:11:54,526 - INFO - 
                                                                matched      truth   pct_diff
build_existing_model.tenure                                                                  
Not Available               energy_use_total_m_btu            21.155859  22.273113  -5.016156
                            fuel_use_electricity_total_m_btu  15.787131  16.533254  -4.512860
                            fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                            fuel_use_natural_gas_total_m_btu   5.320005   5.668211  -6.143138
                            fuel_use_propane_total_m_btu       0.048704   0.071662 -32.036164
Owner                       energy_use_total_m_btu            92.538121  94.062279  -1.620372
                            fuel_use_electricity_total_m_btu  61.153813  62.336124  -1.896671
                            fuel_use_fuel_oil_total_m_btu      0.101086   0.101086   0.000000
                            fuel_use_natural_gas_total_m_btu  30.609259  30.963669  -1.144599
                            fuel_use_propane_total_m_btu       0.673952   0.661390   1.899374
Renter                      energy_use_total_m_btu            53.038440  53.742500  -1.310062
                            fuel_use_electricity_total_m_btu  39.872912  40.311368  -1.087673
                            fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                            fuel_use_natural_gas_total_m_btu  13.005040  13.216167  -1.597490
                            fuel_use_propane_total_m_btu       0.160422   0.214914 -25.354994

2024-11-06 16:11:54,556 - INFO - truth vs. matched - per dwelling unit energy:
2024-11-06 16:11:54,567 - INFO - 
                                                                               matched      truth   pct_diff
build_existing_model.federal_poverty_level                                                                  
0-100%                                     energy_use_total_m_btu            58.610336  59.391374  -1.315069
                                           fuel_use_electricity_total_m_btu  45.711141  46.166132  -0.985552
                                           fuel_use_fuel_oil_total_m_btu      0.322143   0.322143   0.000000
                                           fuel_use_natural_gas_total_m_btu  12.134219  12.360626  -1.831682
                                           fuel_use_propane_total_m_btu       0.442813   0.542451 -18.368008
100-150%                                   energy_use_total_m_btu            68.094598  69.409094  -1.893838
                                           fuel_use_electricity_total_m_btu  48.041528  48.666434  -1.284060
                                           fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                                           fuel_use_natural_gas_total_m_btu  20.053015  20.742585  -3.324416
                                           fuel_use_propane_total_m_btu       0.000000   0.000000        NaN
150-200%                                   energy_use_total_m_btu            75.721187  74.615500   1.481847
                                           fuel_use_electricity_total_m_btu  50.510675  49.777175   1.473567
                                           fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                                           fuel_use_natural_gas_total_m_btu  24.156000  23.783800   1.564931
                                           fuel_use_propane_total_m_btu       1.054400   1.054400   0.000000
200-300%                                   energy_use_total_m_btu            78.276574  79.510083  -1.551387
                                           fuel_use_electricity_total_m_btu  52.105144  53.514625  -2.633824
                                           fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                                           fuel_use_natural_gas_total_m_btu  26.171424  25.995472   0.676855
                                           fuel_use_propane_total_m_btu       0.000000   0.000000        NaN
300-400%                                   energy_use_total_m_btu            86.543773  87.080478  -0.616332
                                           fuel_use_electricity_total_m_btu  57.664019  58.035377  -0.639882
                                           fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                                           fuel_use_natural_gas_total_m_btu  27.929040  28.094420  -0.588658
                                           fuel_use_propane_total_m_btu       0.950725   0.950725   0.000000
400%+                                      energy_use_total_m_btu            89.826677  92.288201  -2.667215
                                           fuel_use_electricity_total_m_btu  59.106209  60.882259  -2.917188
                                           fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                                           fuel_use_natural_gas_total_m_btu  30.178792  30.887496  -2.294470
                                           fuel_use_propane_total_m_btu       0.541637   0.518410   4.480433
Not Available                              energy_use_total_m_btu            21.155859  22.273113  -5.016156
                                           fuel_use_electricity_total_m_btu  15.787131  16.533254  -4.512860
                                           fuel_use_fuel_oil_total_m_btu      0.000000   0.000000        NaN
                                           fuel_use_natural_gas_total_m_btu   5.320005   5.668211  -6.143138
                                           fuel_use_propane_total_m_btu       0.048704   0.071662 -32.036164

2024-11-06 16:11:54,574 - INFO - >> Database down-selected to 1486 buildings, based on input data of 535 buildings, result outputs to: 
C:\Users\ylou2\Desktop\resstock\euss_cleap\data_\downsampled_buildings_id\results_up00__downsampled_method1__north_birmingham.csv

